{{ tfDoNotEditStamp }}

{{range .Topics -}}
module "topic-{{hclident .}}" {
  source  = "standard-ai/hedwig-topic/google"
  version = "~> {{TFGoogleTopicModuleVersion}}"

  topic = "{{.}}"

  enable_firehose_all_messages = "${var.enable_firehose_all_messages}"
  {{if flags.EnableFirehoseAllMessages -}}
      dataflow_tmp_gcs_location = "${var.dataflow_tmp_gcs_location}"
      dataflow_template_gcs_path = "${var.dataflow_template_pubsub_to_storage_gcs_path}"
      dataflow_zone = "${var.dataflow_zone}"
      dataflow_output_directory = "${var.dataflow_output_directory}"
  {{- end}}
}
{{- end}}
